<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Favicon (calavera) -->
  <link rel="icon" href="../icon/human.png" />
  <title>Rex Mater</title>

  <style>
    /* =========================
       RESET + BASE
       ========================= */
    *, *::before, *::after { box-sizing: border-box; }
    :root {
      --bg-0: #0a0a0a;
      --bg-1: #0d0d0f;
      --bg-2: #121215;

      --doom-red: #c91010;
      --doom-red-weak: #8a0e0e;
      --bone: #eaeaea;
      --text: #d6d6d6;
      --muted: #9a9a9a;
      --accent: #e31b1b;
      --glow: 0 0 24px rgba(227, 27, 27, 0.5);

      --frame-bg: rgba(16, 16, 18, 0.6);
      --frame-bg-fallback: #111116;

      --card: rgba(18,18,20,0.85);
      --stroke: #1f1f21;
      --stroke2: #2a2a2e;

      --radius: 14px;
      --shadow: inset 0 0 30px rgba(0,0,0,0.75), 0 0 40px rgba(0,0,0,0.8);

      --maxw: 1100px;
      --pad: clamp(1.0rem, 2.5vw, 2.2rem);
    }

    html, body { height: 100%; margin: 0; }
    body {
      color: var(--text);
      font-family: 'Roboto Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background:
        radial-gradient(1200px 600px at 30% 0%, #141416 0%, var(--bg-0) 70%),
        linear-gradient(180deg, var(--bg-1) 0%, var(--bg-0) 100%);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      overflow-x: hidden;
    }

/* =========================
   CAROUSEL PRO (CROSSFADE + BLUR-UP)
   ========================= */
.rm-carousel {
  margin: 1.2rem var(--pad) 0;
}

.rm-carousel .shell {
  position: relative;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius);
  overflow: hidden;
  background: linear-gradient(180deg, rgba(20,20,24,0.9), rgba(10,10,12,0.9));
  box-shadow: inset 0 0 22px rgba(0,0,0,0.82), 0 0 34px rgba(201,16,16,0.18);
  isolation: isolate;
}

.rm-carousel .slides {
  position: relative;
  aspect-ratio: 16 / 7;
  min-height: 240px;
}

.rm-carousel .slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 520ms ease;
}

.rm-carousel .slide.is-active {
  opacity: 1;
}

.rm-carousel .slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;

  /* blur-up */
  filter: blur(14px) contrast(1.05) saturate(0.95);
  transform: scale(1.03);
  opacity: 0.88;
  transition: filter 650ms ease, transform 650ms ease, opacity 650ms ease;
}

.rm-carousel .slide img.is-loaded {
  filter: blur(0px) contrast(1.05) saturate(0.95);
  transform: scale(1.00);
  opacity: 0.94;
}

/* overlay doom */
.rm-carousel .slide::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 30% 20%, rgba(201,16,16,0.18), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,0.08), rgba(0,0,0,0.55));
  pointer-events: none;
}

/* caption (opcional) */
.rm-carousel .caption {
  position: absolute;
  left: 14px;
  bottom: 14px;
  max-width: min(70ch, calc(100% - 28px));
  padding: .55rem .7rem;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.58);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.rm-carousel .caption strong {
  display: block;
  color: var(--bone);
  font-size: .9rem;
  letter-spacing: .06em;
  text-transform: uppercase;
}
.rm-carousel .caption span {
  display: block;
  color: var(--muted);
  font-size: .8rem;
  margin-top: .15rem;
  line-height: 1.45;
}

/* controls */
.rm-carousel .btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.55);
  color: var(--bone);
  width: 44px;
  height: 44px;
  border-radius: 14px;
  cursor: pointer;
  user-select: none;
  display: grid;
  place-items: center;
  transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease, opacity .15s ease;
  z-index: 3;
}
.rm-carousel .btn:hover {
  border-color: rgba(201,16,16,0.35);
  box-shadow: 0 0 18px rgba(201,16,16,0.18);
  transform: translateY(-50%) scale(1.02);
}
.rm-carousel .btn:active { transform: translateY(-50%) scale(0.98); }
.rm-carousel .btn.prev { left: 10px; }
.rm-carousel .btn.next { right: 10px; }

/* dots */
.rm-carousel .dots {
  position: absolute;
  left: 0; right: 0; bottom: 12px;
  display: flex;
  justify-content: center;
  gap: .45rem;
  z-index: 3;
}
.rm-carousel .dot {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.12);
  cursor: pointer;
  transition: transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.rm-carousel .dot:hover { transform: scale(1.06); }
.rm-carousel .dot.is-active {
  background: rgba(201,16,16,0.65);
  border-color: rgba(201,16,16,0.85);
  box-shadow: 0 0 14px rgba(201,16,16,0.25);
}

/* small top label */
.rm-carousel .badge {
  position: absolute;
  left: 12px;
  top: 12px;
  z-index: 3;
  padding: .35rem .55rem;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.48);
  color: var(--bone);
  font-size: .75rem;
  letter-spacing: .12em;
  text-transform: uppercase;
}

/* focus visible */
.rm-carousel .btn:focus-visible,
.rm-carousel .dot:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 3px;
}

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  .rm-carousel .slide { transition: none; }
  .rm-carousel .slide img { transition: none; }
}

/* responsive */
@media (max-width: 720px) {
  .rm-carousel .slides { aspect-ratio: 16 / 9; }
  .rm-carousel .caption { right: 14px; }
}

    
    /* =========================
       DECORACI√ìN
       ========================= */
    .noise {
      position: fixed; inset: 0;
      pointer-events: none;
      z-index: 1;
      background-image:
        radial-gradient(rgba(255,255,255,0.015) 1px, transparent 1px),
        radial-gradient(rgba(255,255,255,0.015) 1px, transparent 1px);
      background-size: 3px 3px, 5px 5px;
      background-position: 0 0, 1px 1px;
      opacity: 0.6;
      mix-blend-mode: soft-light;
    }

    .sigil {
      position: fixed;
      right: -12vw;
      bottom: -12vh;
      width: min(56vmax, 1100px);
      height: min(56vmax, 1100px);
      border: 2px dashed rgba(201,16,16,0.12);
      border-radius: 50%;
      filter: drop-shadow(0 0 50px rgba(201,16,16,0.08));
      z-index: 0;
      transform: rotate(8deg);
    }
    .sigil::before, .sigil::after {
      content: "";
      position: absolute;
      inset: 12%;
      border: 1px solid rgba(201,16,16,0.12);
      border-radius: 50%;
    }
    .sigil::after { inset: 24%; border-style: dotted; }

    /* =========================
       LAYOUT
       ========================= */
    .wrap { position: relative; z-index: 2; }
    .container {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: var(--pad);
    }

    /* Marco principal tipo tu "frame" */
    .frame {
      background: var(--frame-bg-fallback);
      background-image: linear-gradient(180deg, rgba(20,20,22,0.6) 0%, rgba(12,12,14,0.6) 100%);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    @supports ((backdrop-filter: blur(4px)) or (-webkit-backdrop-filter: blur(4px))) {
      .frame {
        background: var(--frame-bg);
        -webkit-backdrop-filter: blur(4px);
        backdrop-filter: blur(4px);
      }
    }
    .frame::before,
    .frame::after {
      content: "";
      position: absolute;
      inset: -2px;
      border: 1px solid rgba(201,16,16,0.15);
      filter: drop-shadow(var(--glow));
      pointer-events: none;
    }
    .frame::after { inset: -10px; border-color: rgba(201,16,16,0.08); }

    /* =========================
       NAV
       ========================= */
    .nav {
      position: sticky;
      top: 0;
      z-index: 50;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      background: rgba(8,8,10,0.82);
      -webkit-backdrop-filter: blur(8px);
      backdrop-filter: blur(8px);
    }
    .nav-inner {
      max-width: var(--maxw);
      margin: 0 auto;
      padding: .8rem var(--pad);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: .7rem;
      text-decoration: none;
      color: var(--bone);
    }
    .brand .mark {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      border: 1px solid rgba(201,16,16,0.25);
      background: radial-gradient(circle at 30% 20%, rgba(201,16,16,0.35), transparent 60%),
                  linear-gradient(180deg, rgba(25,25,28,0.9), rgba(10,10,12,0.9));
      box-shadow: 0 0 20px rgba(201,16,16,0.18);
      display: grid;
      place-items: center;
      font-size: 18px;
    }
    .brand .name {
      font-family: 'UnifrakturMaguntia', "Old English Text MT", "Blackletter", serif;
      letter-spacing: .04em;
      color: var(--doom-red);
      text-shadow: 0 0 12px rgba(201,16,16,0.45), -3px 2px 0 #000;
      font-size: 1.4rem;
      line-height: 1;
    }
    .menu {
      display: flex;
      flex-wrap: wrap;
      gap: .35rem;
      justify-content: flex-end;
    }
    .menu a {
      color: #cfcfcf;
      text-decoration: none;
      font-size: .78rem;
      letter-spacing: .1em;
      text-transform: uppercase;
      padding: .5rem .7rem;
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 10px;
      background: rgba(18,18,20,0.45);
      transition: transform .15s ease, border-color .15s ease, box-shadow .15s ease;
      white-space: nowrap;
    }
    .menu a:hover { transform: translateY(-1px); border-color: rgba(201,16,16,0.35); box-shadow: 0 0 18px rgba(201,16,16,0.18); }
    .menu a.active { border-color: rgba(201,16,16,0.55); box-shadow: 0 0 24px rgba(201,16,16,0.25); color: var(--bone); }

    /* Men√∫ m√≥vil: bot√≥n */
    .burger {
      display: none;
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(18,18,20,0.45);
      color: var(--bone);
      border-radius: 12px;
      padding: .55rem .75rem;
      font: inherit;
      letter-spacing: .08em;
      text-transform: uppercase;
      cursor: pointer;
    }

    /* =========================
       HERO
       ========================= */
    header.hero {
      padding: clamp(2rem, 4vw, 3rem) var(--pad) 1.2rem;
      text-align: center;
    }
    .title {
      font-family: 'UnifrakturMaguntia', "Old English Text MT", "Blackletter", serif;
      font-size: clamp(2.6rem, 6vw, 5.2rem);
      line-height: 1.05;
      letter-spacing: 0.02em;
      color: var(--doom-red);
      text-shadow:
        0 0 18px rgba(201,16,16,0.55),
        0 0 4px rgba(201,16,16,0.85),
        -6px 4px 0 #000;
      position: relative;
      display: inline-block;
      margin: 0;
    }
    .title::before, .title::after {
      content: attr(data-text);
      position: absolute;
      left: 0; top: 0;
      opacity: 0.35;
      mix-blend-mode: screen;
    }
    .title::before { transform: translate(-1px, -1px); color: #ff0033; animation: glitch1 5s infinite linear; }
    .title::after  { transform: translate( 1px,  1px); color: #00e5ff; animation: glitch2 4.2s infinite linear; }

    @keyframes glitch1 {
      0%, 100% { clip-path: inset(0 0 0 0); }
      25% { clip-path: inset(5% 0 60% 0); }
      50% { clip-path: inset(40% 0 30% 0); }
      75% { clip-path: inset(70% 0 5% 0); }
    }
    @keyframes glitch2 {
      0%, 100% { clip-path: inset(0 0 0 0); }
      20% { clip-path: inset(10% 0 50% 0); }
      45% { clip-path: inset(55% 0 20% 0); }
      80% { clip-path: inset(80% 0 2% 0); }
    }

    .subtitle {
      margin: .6rem auto 0;
      color: var(--muted);
      font-size: clamp(.92rem, 1.4vw, 1rem);
      letter-spacing: 0.09em;
      text-transform: uppercase;
      opacity: 0.88;
      max-width: 70ch;
    }

    .divider {
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--doom-red), transparent);
      margin: 1.6rem auto 1.2rem;
      width: min(92%, 860px);
      filter: drop-shadow(var(--glow));
      position: relative;
    }
    .divider::after {
      content: "";
      position: absolute;
      left: 50%; transform: translateX(-50%);
      top: -6px;
      width: 10px; height: 10px;
      background: var(--doom-red);
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(201,16,16,0.6), 0 0 20px rgba(201,16,16,0.35);
    }

    /* =========================
       SECCIONES
       ========================= */
    section.block {
      padding: 1.6rem var(--pad);
    }
    .section-title {
      margin: 0 0 .8rem 0;
      font-size: 1.05rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      color: var(--bone);
    }
    .section-sub {
      margin: 0 0 1.2rem 0;
      color: var(--muted);
      line-height: 1.65;
      max-width: 80ch;
    }

    .grid {
      display: grid;
      gap: 1rem;
    }
    .grid.two { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid.three { grid-template-columns: repeat(3, minmax(0, 1fr)); }

    .card {
      background: rgba(18,18,20,0.62);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: inset 0 0 18px rgba(0,0,0,0.75);
      position: relative;
      overflow: hidden;
    }
    .card::before {
      content: "";
      position: absolute;
      inset: -1px;
      border: 1px solid rgba(201,16,16,0.12);
      pointer-events: none;
    }

    /* =========================
       SPOTIFY
       ========================= */
    .embed-wrap {
      border: 1px solid #222326;
      border-radius: 12px;
      overflow: hidden;
      background: linear-gradient(180deg, #0e0e11 0%, #0b0b0d 100%);
      box-shadow: inset 0 0 22px rgba(0,0,0,0.8), 0 0 30px rgba(201,16,16,0.25);
      filter: drop-shadow(var(--glow));
      isolation: isolate;
    }
    .embed-wrap iframe { display: block; width: 100%; height: 352px; border: 0; }

    /* =========================
       GALER√çA (FOTOS)
       ========================= */
    .photo {
      aspect-ratio: 4 / 3;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.08);
      overflow: hidden;
      background:
        radial-gradient(circle at 30% 20%, rgba(201,16,16,0.18), transparent 60%),
        linear-gradient(180deg, rgba(20,20,24,0.9), rgba(10,10,12,0.9));
      position: relative;
    }
    .photo img {
      width: 100%; height: 100%;
      object-fit: cover;
      display: block;
      filter: contrast(1.05) saturate(0.95);
      opacity: 0.92;
    }
    .photo .label {
      position: absolute;
      left: 10px; bottom: 10px;
      padding: .35rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.55);
      color: var(--bone);
      font-size: .78rem;
      letter-spacing: .08em;
      text-transform: uppercase;
    }

    /* =========================
       POSTERS (CARTELER√çA)
       ========================= */
    .poster {
      aspect-ratio: 3 / 4;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.08);
      overflow: hidden;
      background:
        linear-gradient(180deg, rgba(201,16,16,0.18), transparent 45%),
        linear-gradient(180deg, rgba(20,20,24,0.9), rgba(10,10,12,0.9));
      position: relative;
    }
    .poster img { width: 100%; height: 100%; object-fit: cover; display: block; opacity: 0.92; }
    .poster .meta {
      position: absolute;
      inset: auto 10px 10px 10px;
      padding: .6rem .7rem;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.62);
    }
    .poster .meta strong { color: var(--bone); display: block; font-size: .9rem; }
    .poster .meta span { color: var(--muted); font-size: .78rem; }

    /* =========================
       FECHAS (PR√ìXIMAS)
       ========================= */
    .show {
      display: grid;
      grid-template-columns: 110px 1fr;
      gap: 1rem;
      align-items: center;
    }
    .datebox {
      border-radius: 14px;
      border: 1px solid rgba(201,16,16,0.35);
      background: rgba(201,16,16,0.10);
      padding: .85rem .7rem;
      text-align: center;
      box-shadow: 0 0 18px rgba(201,16,16,0.12);
    }
    .datebox .day { font-size: 1.4rem; color: var(--bone); font-weight: 700; line-height: 1; }
    .datebox .mon { font-size: .85rem; color: var(--muted); letter-spacing: .14em; text-transform: uppercase; margin-top: .2rem; }
    .show .info strong { color: var(--bone); display: block; margin-bottom: .2rem; }
    .show .info span { color: var(--muted); display: block; line-height: 1.5; }

    /* =========================
       FOOTER
       ========================= */
    footer.site {
      padding: 1.6rem var(--pad) 2.2rem;
      text-align: center;
      color: #7e7e7e;
      font-size: .88rem;
      opacity: .9;
    }

    /* =========================
       ACCESIBILIDAD + MOTION
       ========================= */
    a:focus-visible, button:focus-visible, iframe:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 3px;
      border-radius: 10px;
    }
    @media (prefers-reduced-motion: reduce) {
      .title::before, .title::after { animation: none; }
      html { scroll-behavior: auto; }
    }

    /* =========================
       RESPONSIVE
       ========================= */
    @media (max-width: 900px) {
      .grid.three { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 720px) {
      .burger { display: inline-flex; align-items: center; gap: .5rem; }
      .menu { display: none; width: 100%; }
      .menu.open { display: flex; }
      .nav-inner { flex-wrap: wrap; align-items: flex-start; }
      .grid.two { grid-template-columns: 1fr; }
      .grid.three { grid-template-columns: 1fr; }
      .embed-wrap iframe { height: 300px; }
      .show { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="noise" aria-hidden="true"></div>
  <div class="sigil" aria-hidden="true"></div>

  <!-- NAV -->
  <nav class="nav" aria-label="Men√∫ principal">
    <div class="nav-inner">
      <a class="brand" href="#inicio">
        <span class="mark">üíÄ</span>
        <span class="name">Rex Mater</span>
      </a>

      <button class="burger" id="burger" aria-expanded="false" aria-controls="menu">
        ‚ò∞ men√∫
      </button>

      <div class="menu" id="menu">
        <a href="#inicio">Inicio</a>
        <a href="#historia">Historia</a>
        <a href="#musica">M√∫sica</a>
        <a href="#fotos">Fotos</a>
        <a href="#carteles">Carteles</a>
        <a href="#proximas">Pr√≥ximas</a>
        <a href="#contacto">Contacto</a>
      </div>
    </div>
  </nav>

  <div class="wrap">
    <div class="container">
      <main class="frame">

        <!-- HERO / INICIO -->
        <header class="hero" id="inicio">
          <h1 class="title" data-text="REX MATER">REX MATER</h1>
          <p class="subtitle">Oscuridad. Metal. √âxtasis sonoro.</p>
          <div class="divider" aria-hidden="true"></div>

          <section class="block" style="padding-top:0;">
            <div class="card">
              <p style="margin:0; line-height:1.7; color:#c7c7c7;">
                Bienvenid@ a la <strong>vigilia sonora</strong>. Respira hondo, ajusta el volumen,
                y deja que el pulso <strong>doom</strong> te envuelva.
              </p>
              <div style="margin-top:1rem; display:flex; flex-wrap:wrap; gap:.55rem;">
                <span style="font-size:.78rem; padding:.35rem .6rem; border:1px solid var(--stroke2); border-radius:10px; text-transform:uppercase; letter-spacing:.1em; background:#121214;">doom</span>
                <span style="font-size:.78rem; padding:.35rem .6rem; border:1px solid var(--stroke2); border-radius:10px; text-transform:uppercase; letter-spacing:.1em; background:#121214;">thrash</span>
                <span style="font-size:.78rem; padding:.35rem .6rem; border:1px solid var(--stroke2); border-radius:10px; text-transform:uppercase; letter-spacing:.1em; background:#121214;">dark</span>
                <span style="font-size:.78rem; padding:.35rem .6rem; border:1px solid var(--stroke2); border-radius:10px; text-transform:uppercase; letter-spacing:.1em; background:#121214;">metal</span>
                <span style="font-size:.78rem; padding:.35rem .6rem; border:1px solid var(--stroke2); border-radius:10px; text-transform:uppercase; letter-spacing:.1em; background:#121214;">ritual</span>
              </div>
            </div>
          </section>
        </header>



<!-- CAROUSEL PRO (ANTES DE HISTORIA) -->
<section class="rm-carousel" aria-label="Carrusel Rex Mater">
  <div class="shell" id="rmCarouselPro" tabindex="0" aria-roledescription="carousel" aria-label="Galer√≠a Rex Mater">
    <div class="badge">Rex Mater</div>

    <div class="slides" aria-live="polite">
      <figure class="slide is-active" data-caption-title="Vigilia sonora" data-caption-text="Sombras, ne√≥n rojo y riffs pesados.">
        <img src="../img/RexCuadro.png" alt="Rex Mater - Imagen 1" loading="eager" decoding="async">
      </figure>

      <figure class="slide" data-caption-title="Live ritual" data-caption-text="Energ√≠a en vivo. Doom/Thrash.">
        <img src="../img/REX MATER57.jpg" alt="Rex Mater - Imagen 2" loading="lazy" decoding="async">
      </figure>

      <figure class="slide" data-caption-title="El trono" data-caption-text="La Rex Mater observa.">
        <img src="../img/REX MATER5.jpg" alt="Rex Mater - Imagen 3" loading="lazy" decoding="async">
      </figure>

      <figure class="slide" data-caption-title="Carteler√≠a" data-caption-text="Archivo visual de conciertos.">
        <img src="../img/IMG_1355.JPG" alt="Rex Mater - Imagen 4" loading="lazy" decoding="async">
      </figure>

      <figure class="slide" data-caption-title="El castillo doom" data-caption-text="Donde nace el ruido sagrado.">
        <img src="../img/DSC_9926.jpg" alt="Rex Mater - Imagen 5" loading="lazy" decoding="async">
      </figure>

      <!-- Caption -->
      <div class="caption" id="rmCaption" aria-hidden="false">
        <strong id="rmCaptionTitle">Vigilia sonora</strong>
        <span id="rmCaptionText">Sombras, ne√≥n rojo y riffs pesados.</span>
      </div>
    </div>

    <!-- Controls -->
    <button class="btn prev" type="button" aria-label="Imagen anterior">‚Äπ</button>
    <button class="btn next" type="button" aria-label="Imagen siguiente">‚Ä∫</button>

    <!-- Dots -->
    <div class="dots" aria-label="Indicadores del carrusel">
      <button class="dot is-active" type="button" aria-label="Ir a imagen 1"></button>
      <button class="dot" type="button" aria-label="Ir a imagen 2"></button>
      <button class="dot" type="button" aria-label="Ir a imagen 3"></button>
      <button class="dot" type="button" aria-label="Ir a imagen 4"></button>
      <button class="dot" type="button" aria-label="Ir a imagen 5"></button>
    </div>
  </div>
</section>

        
        <!-- HISTORIA -->
        <section class="block" id="historia">
          <h2 class="section-title">Historia</h2>
          <p class="section-sub">
            Escribe aqu√≠ el manifiesto / origen de la Rex Mater. (Yo te lo redacto doom-√©pico cuando me pases 5 ideas clave).
          </p>

          <div class="grid two">
            <div class="card">
              <strong style="color:var(--bone);">Origen</strong>
              <p style="margin:.6rem 0 0; color:#c7c7c7; line-height:1.7;">
                Texto breve sobre el nacimiento de la banda, influencias y concepto l√≠rico.
              </p>
            </div>
            <div class="card">
              <strong style="color:var(--bone);">Sonido</strong>
              <p style="margin:.6rem 0 0; color:#c7c7c7; line-height:1.7;">
                Doom/thrash con atm√≥sfera ritual, riffs pesados y energ√≠a en vivo.
              </p>
            </div>
          </div>
        </section>

        <!-- MUSICA (SPOTIFY) -->
        <section class="block" id="musica">
          <h2 class="section-title">M√∫sica</h2>
          <p class="section-sub">Comparte los tracks, EP o playlist oficial. Puedes pegar m√°s iframes y listo.</p>

          <div class="grid two">
            <div class="embed-wrap">
              <iframe style="border-radius:12px"
                src="https://open.spotify.com/embed/track/1icTidN5SC330ernARYc0e?utm_source=generator"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
            </div>

            <div class="embed-wrap">
              <iframe style="border-radius:12px"
                src="https://open.spotify.com/embed/track/7nehIrMqg7CGHpFzyukADq?utm_source=generator"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"></iframe>
            </div>
          </div>
        </section>

        <!-- FOTOS -->
        <section class="block" id="fotos">
          <h2 class="section-title">Fotos</h2>
          <p class="section-sub">Pon aqu√≠ fotos de prensa, backstage, ensayos y tocadas.</p>

          <div class="grid three">
            <!-- Reemplaza src con tus im√°genes -->
            <div class="photo">
              <img src="../img/DSC_9923.jpg" alt="Rex Mater - Foto 1">
              <span class="label">Live</span>
            </div>
            <div class="photo">
              <img src="../img/IMG_1355.JPG" alt="Rex Mater - Foto 2">
              <span class="label">Backstage</span>
            </div>
            <div class="photo">
              <img src="../img/RexCuadro.png" alt="Rex Mater - Foto 3">
              <span class="label">Ensayo</span>
            </div>
          </div>
        </section>

        <!-- CARTELES -->
        <section class="block" id="carteles">
          <h2 class="section-title">Carteles de conciertos</h2>
          <p class="section-sub">Sube tus posters oficiales y crea archivo visual de la banda.</p>

          <div class="grid three">
            <div class="poster">
              <img src="../img/carterles/danzigCuenca.jpg" alt="Cartel 1">
              <div class="meta">
                <strong>Rex Mater ‚Ä¢ En Vivo</strong>
                <span>Rock and Futbol ‚Ä¢ Tarde</span>
              </div>
            </div>
            <div class="poster">
              <img src="../img/carterles/tributoSabbath.jpg" alt="Cartel 2">
              <div class="meta">
                <strong>Noche Ritual</strong>
                <span>Ciudad / Fecha</span>
              </div>
            </div>
            <div class="poster">
              <img src="../img/carterles/feriaDiscoLoja.jpg" alt="Cartel 3">
              <div class="meta">
                <strong>Festival</strong>
                <span>Lineup / Fecha</span>
              </div>
            </div>
          </div>
        </section>

        <!-- PR√ìXIMAS -->
        <section class="block" id="proximas">
          <h2 class="section-title">Pr√≥ximas presentaciones</h2>
          <p class="section-sub">Lista r√°pida de fechas (puedes mantenerla manual o luego la hacemos din√°mica con JSON).</p>

          <div class="grid two">
            <div class="card show">
              <div class="datebox">
                <div class="day">10</div>
                <div class="mon">Mar</div>
              </div>
              <div class="info">
                <strong>Rock and Futbol</strong>
                <span>Presentaci√≥n en la tarde ‚Ä¢ Repertorio rock + in√©ditos</span>
                <span>Cuenca, Ecuador</span>
              </div>
            </div>

            <div class="card show">
              <div class="datebox">
                <div class="day">--</div>
                <div class="mon">---</div>
              </div>
              <div class="info">
                <strong>Pr√≥xima fecha</strong>
                <span>Venue / Hora</span>
                <span>Ciudad</span>
              </div>
            </div>
          </div>
        </section>

        <!-- CONTACTO -->
        <section class="block" id="contacto">
          <h2 class="section-title">Contacto</h2>
          <p class="section-sub">Links r√°pidos para booking, redes y prensa.</p>

          <div class="grid two">
            <div class="card">
              <strong style="color:var(--bone);">Booking</strong>
              <p style="margin:.6rem 0 0; color:#c7c7c7; line-height:1.7;">
                Correo: <a href="mailto:booking@rexmater.com" style="color:var(--bone);">booking@rexmater.com</a><br/>
                Instagram: <a href="#" style="color:var(--bone);">@rexmater</a>
              </p>
            </div>
            <div class="card">
              <strong style="color:var(--bone);">Press Kit</strong>
              <p style="margin:.6rem 0 0; color:#c7c7c7; line-height:1.7;">
                Agrega aqu√≠ un link a tu EPK (Drive / Notion) o un PDF descargable.
              </p>
            </div>
          </div>
        </section>

        <footer class="site">
          Hecho con sombras y ne√≥n rojo ‚Ä¢ Mak Muyuqi Development
        </footer>

      </main>
    </div>
  </div>

  <script>
    // Scroll suave (sin romper prefers-reduced-motion)
    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      document.documentElement.style.scrollBehavior = 'smooth';
    }

    // Men√∫ m√≥vil
    const burger = document.getElementById('burger');
    const menu = document.getElementById('menu');

    burger?.addEventListener('click', () => {
      const isOpen = menu.classList.toggle('open');
      burger.setAttribute('aria-expanded', String(isOpen));
    });

    // Cerrar men√∫ al hacer click en un link (m√≥vil)
    menu?.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => {
        menu.classList.remove('open');
        burger.setAttribute('aria-expanded', 'false');
      });
    });

    // Secci√≥n activa (ScrollSpy simple)
    const links = Array.from(menu.querySelectorAll('a'));
    const sections = links
      .map(a => document.querySelector(a.getAttribute('href')))
      .filter(Boolean);

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const id = entry.target.getAttribute('id');
        const link = links.find(a => a.getAttribute('href') === `#${id}`);
        if (!link) return;

        if (entry.isIntersecting) {
          links.forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });

    sections.forEach(sec => observer.observe(sec));

// =========================
// CAROUSEL PRO ‚Äî Rex Mater
// - Crossfade
// - Autoplay inteligente (pausa hover/focus/hidden)
// - Swipe/touch + teclado
// - Lazy + blur-up (cuando carga quita blur)
// =========================
(() => {
  const root = document.getElementById('rmCarouselPro');
  if (!root) return;

  const slides = Array.from(root.querySelectorAll('.slide'));
  const prevBtn = root.querySelector('.btn.prev');
  const nextBtn = root.querySelector('.btn.next');
  const dots = Array.from(root.querySelectorAll('.dot'));

  const capTitle = root.querySelector('#rmCaptionTitle');
  const capText  = root.querySelector('#rmCaptionText');

  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  let index = 0;
  let timer = null;

  // Swipe
  let isDown = false;
  let startX = 0;
  let startY = 0;
  let deltaX = 0;
  let deltaY = 0;

  // Si una imagen no carga, deja evidencia en consola y no ‚Äúrompe‚Äù
  slides.forEach((s, i) => {
    const img = s.querySelector('img');
    if (!img) return;

    const markLoaded = () => img.classList.add('is-loaded');
    if (img.complete && img.naturalWidth > 0) markLoaded();
    else img.addEventListener('load', markLoaded, { once: true });

    img.addEventListener('error', () => {
      console.warn(`[RexMater Carousel] No se pudo cargar imagen ${i + 1}:`, img.src);
      // fallback visual
      img.style.display = "none";
      s.style.background =
        "radial-gradient(circle at 30% 20%, rgba(201,16,16,0.18), transparent 60%)," +
        "linear-gradient(180deg, rgba(20,20,24,0.92), rgba(10,10,12,0.92))";
    }, { once: true });
  });

  const setActive = (i) => {
    const n = slides.length;
    if (n === 0) return;

    index = (i + n) % n;

    slides.forEach((s, si) => s.classList.toggle('is-active', si === index));
    dots.forEach((d, di) => d.classList.toggle('is-active', di === index));

    // Caption
    const s = slides[index];
    const t = s.getAttribute('data-caption-title') || '';
    const x = s.getAttribute('data-caption-text') || '';
    if (capTitle) capTitle.textContent = t;
    if (capText) capText.textContent = x;
  };

  const next = () => setActive(index + 1);
  const prev = () => setActive(index - 1);

  prevBtn?.addEventListener('click', prev);
  nextBtn?.addEventListener('click', next);
  dots.forEach((dot, di) => dot.addEventListener('click', () => setActive(di)));

  // Teclado
  root.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') { e.preventDefault(); prev(); }
    if (e.key === 'ArrowRight') { e.preventDefault(); next(); }
  });

  // Autoplay
  const startAutoplay = () => {
    if (prefersReduced) return;
    if (timer) return;
    timer = setInterval(next, 5200);
  };
  const stopAutoplay = () => {
    if (!timer) return;
    clearInterval(timer);
    timer = null;
  };

  root.addEventListener('mouseenter', stopAutoplay);
  root.addEventListener('mouseleave', startAutoplay);
  root.addEventListener('focusin', stopAutoplay);
  root.addEventListener('focusout', startAutoplay);

  document.addEventListener('visibilitychange', () => {
    if (document.hidden) stopAutoplay();
    else startAutoplay();
  });

  // Swipe: detecta intenci√≥n (horizontal vs vertical)
  const down = (clientX, clientY) => {
    isDown = true;
    startX = clientX;
    startY = clientY;
    deltaX = 0;
    deltaY = 0;
    stopAutoplay();
  };

  const move = (clientX, clientY) => {
    if (!isDown) return;
    deltaX = clientX - startX;
    deltaY = clientY - startY;
  };

  const up = () => {
    if (!isDown) return;
    isDown = false;

    // si el gesto fue m√°s vertical que horizontal, no cambies slide
    if (Math.abs(deltaY) > Math.abs(deltaX)) {
      startAutoplay();
      return;
    }

    const threshold = 40;
    if (deltaX > threshold) prev();
    else if (deltaX < -threshold) next();

    startAutoplay();
  };

  // Touch
  root.addEventListener('touchstart', (e) => {
    const t = e.touches?.[0];
    if (!t) return;
    down(t.clientX, t.clientY);
  }, { passive: true });

  root.addEventListener('touchmove', (e) => {
    const t = e.touches?.[0];
    if (!t) return;
    move(t.clientX, t.clientY);
  }, { passive: true });

  root.addEventListener('touchend', up);

  // Pointer (mouse)
  root.addEventListener('pointerdown', (e) => {
    root.setPointerCapture?.(e.pointerId);
    down(e.clientX, e.clientY);
  });

  root.addEventListener('pointermove', (e) => move(e.clientX, e.clientY));
  root.addEventListener('pointerup', up);
  root.addEventListener('pointercancel', up);

  // Init
  setActive(0);
  startAutoplay();
})();

    
  </script>
</body>
</html>
